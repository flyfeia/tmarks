数据库迁移文件说明
================================================================================

文件列表
--------------------------------------------------------------------------------

1. d1_console_pure.sql
   用途: 新用户一键创建所有表和索引
   使用: 在 Cloudflare D1 控制台直接执行
   场景: 第一次部署项目

2. update_for_existing_users.sql
   用途: 老用户增量更新（添加新字段和索引）
   使用: 在 Cloudflare D1 控制台直接执行
   场景: 从 GitHub 拉取新代码后
   包含: tag_layout 字段、sort_by 字段、6 个性能优化索引
   注意: 如果报错 "duplicate column name" 或 "index already exists"，说明已存在，可以忽略

3. drop_all_tables.sql
   用途: 删除所有表（危险操作）
   使用: 在 Cloudflare D1 控制台直接执行
   场景: 完全重置数据库
   警告: 会丢失所有数据！

4. full_schema.sql
   用途: 完整数据库结构文档
   使用: 仅供参考，不要在控制台执行
   场景: 查看表结构、索引定义


使用指南
================================================================================

新用户（第一次部署）
--------------------------------------------------------------------------------
执行: d1_console_pure.sql


老用户（拉取新代码后）
--------------------------------------------------------------------------------
执行: update_for_existing_users.sql


完全重置（删除所有数据）
--------------------------------------------------------------------------------
1. 执行 drop_all_tables.sql
2. 执行 d1_console_pure.sql
